# JWT (Json Web Token)

- JSON 객체를 사용해서 가벼움
- 정보를 안전하게 전달할 수 있도록 설계된 토큰 기반의 인증 방식
- URL, HTTP Header, HTML Form과 같은 다양한 방식으로 전달 가능
- 서버와 클라이언트 간의 인증 정보를 포함
- Header, Payload. Signature 세 부분으로 구성됨
- base64로 인코딩된 값

[JWT 실습](jwt/src/test/java/com/example/jwt/service/JwtServiceTest.java)

### JWT 구성

#### Header
- JWT의 type과 암호화 알고리즘 등을 포함
- JSON 형식으로 인코딩
```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

#### Payload
- 클레임 정보 포함
  - 사용자 ID, 권한 등의 정보를 포함할 수 있음
- JSON 형식으로 인코딩

#### Signature
- Header와 Payload를 조합한 후, 비밀 키를 사용하여 생성된 서명 값
- 서명 값은 **토큰의 무결성을 보장**하며, JWT를 조작하지 않았다는 것을 검증

## JWT를 이용한 인증 방식
1. 클라이언트가 서버에 로그인 요청을 보냅니다.
2. 서버는 로그인 요청을 검증하고, 유효한 사용자라면 JWT를 생성하여 클라이언트에게 반환합니다.
3. 클라이언트는 이후 요청에 JWT를 포함시켜 전송합니다.
4. 서버는 JWT를 검증하여, 클라이언트의 인증 여부를 판단합니다.

### 장점
1. 토큰 기반의 인증 방식이므로, 서버 측에서 별도의 세션 저장소를 유지할 필요가 없습니다.
2. JSON 형식으로 인코딩되므로, 다양한 플랫폼 간에 쉽게 전송 및 구현할 수 있습니다.
3. Signature를 사용하여 무결성을 보장하므로, 토큰이 변조되었는지 여부를 쉽게 검증할 수 있습니다.

### 단점
- JWT의 크기가 커질 경우, 네트워크 대역폭이 증가하게 됩니다.
- JWT는 한 번 발급된 후에는 내부 정보를 수정할 수 없으므로, 만료 시간을 짧게 설정해야 합니다.
- JWT를 탈취당하면, 해당 토큰을 사용한 모든 요청이 인증되므로, 보안 위협이 될 수 있습니다. 따라서, HTTPS와 같은 보안 프로토콜을 사용하여 JWT를 전송해야 합니다.